import{S as st,i as at,s as lt,k as P,r as q,a as R,l as _,m as k,u as D,h as y,c as A,p as b,b as F,H as v,n as X,O as ut,F as Y,v as H}from"../../../chunks/index-a04286cd.js";var J=function(r,i){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},J(r,i)};function g(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function t(){this.constructor=r}J(r,i),r.prototype=i===null?Object.create(i):(t.prototype=i.prototype,new t)}var B=function(){return B=Object.assign||function(r){for(var i,t=1,e=arguments.length;t<e;t++)for(var n in i=arguments[t])Object.prototype.hasOwnProperty.call(i,n)&&(r[n]=i[n]);return r},B.apply(this,arguments)};function w(r,i,t,e){return new(t||(t=Promise))(function(n,o){function s(d){try{c(e.next(d))}catch(l){o(l)}}function a(d){try{c(e.throw(d))}catch(l){o(l)}}function c(d){var l;d.done?n(d.value):(l=d.value,l instanceof t?l:new t(function(u){u(l)})).then(s,a)}c((e=e.apply(r,i||[])).next())})}function S(r,i){var t,e,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,e&&(n=2&l[0]?e.return:l[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,l[1])).done)return n;switch(e=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,e=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(n=s.trys,!((n=n.length>0&&n[n.length-1])||l[0]!==6&&l[0]!==2)){s=0;continue}if(l[0]===3&&(!n||l[1]>n[0]&&l[1]<n[3])){s.label=l[1];break}if(l[0]===6&&s.label<n[1]){s.label=n[1],n=l;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(l);break}n[2]&&s.ops.pop(),s.trys.pop();continue}l=i.call(r,s)}catch(u){l=[6,u],e=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([c,d])}}}var ot,V=function(r){function i(t){var e,n=this;return(n=r.call(this,"ClientResponseError")||this).url="",n.status=0,n.data={},n.isAbort=!1,n.originalError=null,Object.setPrototypeOf(n,i.prototype),t instanceof i||(n.originalError=t),t!==null&&typeof t=="object"&&(n.url=typeof t.url=="string"?t.url:"",n.status=typeof t.status=="number"?t.status:0,n.data=t.data!==null&&typeof t.data=="object"?t.data:{}),typeof DOMException<"u"&&t instanceof DOMException&&(n.isAbort=!0),n.name="ClientResponseError "+n.status,n.message=(e=n.data)===null||e===void 0?void 0:e.message,n.message||(n.message=n.isAbort?"The request was autocancelled. More info you could find in https://github.com/pocketbase/js-sdk#auto-cancellation.":"Something went wrong while processing your request."),n}return g(i,r),i.prototype.toJSON=function(){return B({},this)},i}(Error),U=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Z(r,i,t){var e=Object.assign({},t||{}),n=e.encode||dt;if(!U.test(r))throw new TypeError("argument name is invalid");var o=n(i);if(o&&!U.test(o))throw new TypeError("argument val is invalid");var s=r+"="+o;if(e.maxAge!=null){var a=e.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(e.domain){if(!U.test(e.domain))throw new TypeError("option domain is invalid");s+="; Domain="+e.domain}if(e.path){if(!U.test(e.path))throw new TypeError("option path is invalid");s+="; Path="+e.path}if(e.expires){if(!function(c){return Object.prototype.toString.call(c)==="[object Date]"||c instanceof Date}(e.expires)||isNaN(e.expires.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+e.expires.toUTCString()}if(e.httpOnly&&(s+="; HttpOnly"),e.secure&&(s+="; Secure"),e.priority)switch(typeof e.priority=="string"?e.priority.toLowerCase():e.priority){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(e.sameSite)switch(typeof e.sameSite=="string"?e.sameSite.toLowerCase():e.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s}function ct(r){return r.indexOf("%")!==-1?decodeURIComponent(r):r}function dt(r){return encodeURIComponent(r)}function tt(r){if(r)try{var i=decodeURIComponent(ot(r.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(i)||{}}catch{}return{}}ot=typeof atob=="function"?atob:function(r){var i=String(r).replace(/=+$/,"");if(i.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,e,n=0,o=0,s="";e=i.charAt(o++);~e&&(t=n%4?64*t+e:e,n++%4)?s+=String.fromCharCode(255&t>>(-2*n&6)):0)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e);return s};var L=function(){function r(i){i===void 0&&(i={}),this.load(i||{})}return r.prototype.load=function(i){for(var t=0,e=Object.entries(i);t<e.length;t++){var n=e[t],o=n[0],s=n[1];this[o]=s}this.id=i.id!==void 0?i.id:"",this.created=i.created!==void 0?i.created:"",this.updated=i.updated!==void 0?i.updated:""},Object.defineProperty(r.prototype,"isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),r.prototype.clone=function(){return new this.constructor(JSON.parse(JSON.stringify(this)))},r.prototype.export=function(){return Object.assign({},this)},r}(),G=function(r){function i(){return r!==null&&r.apply(this,arguments)||this}return g(i,r),i.prototype.load=function(t){r.prototype.load.call(this,t),this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.collectionName=typeof t.collectionName=="string"?t.collectionName:"",this.expand=typeof t.expand=="object"&&t.expand!==null?t.expand:{}},i}(L),z=function(r){function i(){return r!==null&&r.apply(this,arguments)||this}return g(i,r),i.prototype.load=function(t){r.prototype.load.call(this,t),this.avatar=typeof t.avatar=="number"?t.avatar:0,this.email=typeof t.email=="string"?t.email:""},i}(L),ht=function(){function r(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(r.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isValid",{get:function(){return!function(i,t){t===void 0&&(t=0);var e=tt(i);return!(Object.keys(e).length>0&&(!e.exp||e.exp-t>Date.now()/1e3))}(this.token)},enumerable:!1,configurable:!0}),r.prototype.save=function(i,t){this.baseToken=i||"",this.baseModel=t!==null&&typeof t=="object"?t.collectionId!==void 0?new G(t):new z(t):null,this.triggerChange()},r.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},r.prototype.loadFromCookie=function(i,t){t===void 0&&(t="pb_auth");var e=function(o,s){var a={};if(typeof o!="string")return a;for(var c=Object.assign({},s||{}).decode||ct,d=0;d<o.length;){var l=o.indexOf("=",d);if(l===-1)break;var u=o.indexOf(";",d);if(u===-1)u=o.length;else if(u<l){d=o.lastIndexOf(";",l-1)+1;continue}var p=o.slice(d,l).trim();if(a[p]===void 0){var h=o.slice(l+1,u).trim();h.charCodeAt(0)===34&&(h=h.slice(1,-1));try{a[p]=c(h)}catch{a[p]=h}}d=u+1}return a}(i||"")[t]||"",n={};try{(typeof(n=JSON.parse(e))===null||typeof n!="object"||Array.isArray(n))&&(n={})}catch{}this.save(n.token||"",n.model||null)},r.prototype.exportToCookie=function(i,t){var e,n,o;t===void 0&&(t="pb_auth");var s={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},a=tt(this.token);a!=null&&a.exp?s.expires=new Date(1e3*a.exp):s.expires=new Date("1970-01-01"),i=Object.assign({},s,i);var c={token:this.token,model:((e=this.model)===null||e===void 0?void 0:e.export())||null},d=Z(t,JSON.stringify(c),i),l=typeof Blob<"u"?new Blob([d]).size:d.length;return c.model&&l>4096&&(c.model={id:(n=c==null?void 0:c.model)===null||n===void 0?void 0:n.id,email:(o=c==null?void 0:c.model)===null||o===void 0?void 0:o.email},this.model instanceof G&&(c.model.username=this.model.username,c.model.verified=this.model.verified,c.model.collectionId=this.model.collectionId),d=Z(t,JSON.stringify(c),i)),d},r.prototype.onChange=function(i,t){var e=this;return t===void 0&&(t=!1),this._onChangeCallbacks.push(i),t&&i(this.token,this.model),function(){for(var n=e._onChangeCallbacks.length-1;n>=0;n--)if(e._onChangeCallbacks[n]==i)return delete e._onChangeCallbacks[n],void e._onChangeCallbacks.splice(n,1)}},r.prototype.triggerChange=function(){for(var i=0,t=this._onChangeCallbacks;i<t.length;i++){var e=t[i];e&&e(this.token,this.model)}},r}(),pt=function(r){function i(t){t===void 0&&(t="pocketbase_auth");var e=r.call(this)||this;return e.storageFallback={},e.storageKey=t,e}return g(i,r),Object.defineProperty(i.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"model",{get:function(){var t,e=this._storageGet(this.storageKey)||{};return e===null||typeof e!="object"||e.model===null||typeof e.model!="object"?null:((t=e.model)===null||t===void 0?void 0:t.collectionId)===void 0?new z(e.model):new G(e.model)},enumerable:!1,configurable:!0}),i.prototype.save=function(t,e){this._storageSet(this.storageKey,{token:t,model:e}),r.prototype.save.call(this,t,e)},i.prototype.clear=function(){this._storageRemove(this.storageKey),r.prototype.clear.call(this)},i.prototype._storageGet=function(t){if(typeof window<"u"&&(window==null?void 0:window.localStorage)){var e=window.localStorage.getItem(t)||"";try{return JSON.parse(e)}catch{return e}}return this.storageFallback[t]},i.prototype._storageSet=function(t,e){if(typeof window<"u"&&(window==null?void 0:window.localStorage)){var n=e;typeof e!="string"&&(n=JSON.stringify(e)),window.localStorage.setItem(t,n)}else this.storageFallback[t]=e},i.prototype._storageRemove=function(t){var e;typeof window<"u"&&(window==null?void 0:window.localStorage)&&((e=window.localStorage)===null||e===void 0||e.removeItem(t)),delete this.storageFallback[t]},i}(ht),M=function(r){this.client=r},ft=function(r){function i(){return r!==null&&r.apply(this,arguments)||this}return g(i,r),i.prototype.getAll=function(t){return t===void 0&&(t={}),this.client.send("/api/settings",{method:"GET",params:t}).then(function(e){return e||{}})},i.prototype.update=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this.client.send("/api/settings",{method:"PATCH",params:e,body:t}).then(function(n){return n||{}})},i.prototype.testS3=function(t){return t===void 0&&(t={}),this.client.send("/api/settings/test/s3",{method:"POST",params:t}).then(function(){return!0})},i.prototype.testEmail=function(t,e,n){n===void 0&&(n={});var o={email:t,template:e};return this.client.send("/api/settings/test/email",{method:"POST",params:n,body:o}).then(function(){return!0})},i}(M),rt=function(r,i,t,e,n){this.page=r>0?r:1,this.perPage=i>=0?i:0,this.totalItems=t>=0?t:0,this.totalPages=e>=0?e:0,this.items=n||[]},K=function(r){function i(){return r!==null&&r.apply(this,arguments)||this}return g(i,r),i.prototype.getFullList=function(t,e){return t===void 0&&(t=200),e===void 0&&(e={}),this._getFullList(this.baseCrudPath,t,e)},i.prototype.getList=function(t,e,n){return t===void 0&&(t=1),e===void 0&&(e=30),n===void 0&&(n={}),this._getList(this.baseCrudPath,t,e,n)},i.prototype.getFirstListItem=function(t,e){return e===void 0&&(e={}),this._getFirstListItem(this.baseCrudPath,t,e)},i.prototype.getOne=function(t,e){return e===void 0&&(e={}),this._getOne(this.baseCrudPath,t,e)},i.prototype.create=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this._create(this.baseCrudPath,t,e)},i.prototype.update=function(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this._update(this.baseCrudPath,t,e,n)},i.prototype.delete=function(t,e){return e===void 0&&(e={}),this._delete(this.baseCrudPath,t,e)},i}(function(r){function i(){return r!==null&&r.apply(this,arguments)||this}return g(i,r),i.prototype._getFullList=function(t,e,n){var o=this;e===void 0&&(e=100),n===void 0&&(n={});var s=[],a=function(c){return w(o,void 0,void 0,function(){return S(this,function(d){return[2,this._getList(t,c,e,n).then(function(l){var u=l,p=u.items,h=u.totalItems;return s=s.concat(p),p.length&&h>s.length?a(c+1):s})]})})};return a(1)},i.prototype._getList=function(t,e,n,o){var s=this;return e===void 0&&(e=1),n===void 0&&(n=30),o===void 0&&(o={}),o=Object.assign({page:e,perPage:n},o),this.client.send(t,{method:"GET",params:o}).then(function(a){var c=[];if(a!=null&&a.items){a.items=a.items||[];for(var d=0,l=a.items;d<l.length;d++){var u=l[d];c.push(s.decode(u))}}return new rt((a==null?void 0:a.page)||1,(a==null?void 0:a.perPage)||0,(a==null?void 0:a.totalItems)||0,(a==null?void 0:a.totalPages)||0,c)})},i.prototype._getOne=function(t,e,n){var o=this;return n===void 0&&(n={}),this.client.send(t+"/"+encodeURIComponent(e),{method:"GET",params:n}).then(function(s){return o.decode(s)})},i.prototype._getFirstListItem=function(t,e,n){return n===void 0&&(n={}),n=Object.assign({filter:e,$cancelKey:"one_by_filter_"+t+"_"+e},n),this._getList(t,1,1,n).then(function(o){var s;if(!(!((s=o==null?void 0:o.items)===null||s===void 0)&&s.length))throw new V({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return o.items[0]})},i.prototype._create=function(t,e,n){var o=this;return e===void 0&&(e={}),n===void 0&&(n={}),this.client.send(t,{method:"POST",params:n,body:e}).then(function(s){return o.decode(s)})},i.prototype._update=function(t,e,n,o){var s=this;return n===void 0&&(n={}),o===void 0&&(o={}),this.client.send(t+"/"+encodeURIComponent(e),{method:"PATCH",params:o,body:n}).then(function(a){return s.decode(a)})},i.prototype._delete=function(t,e,n){return n===void 0&&(n={}),this.client.send(t+"/"+encodeURIComponent(e),{method:"DELETE",params:n}).then(function(){return!0})},i}(M)),vt=function(r){function i(){return r!==null&&r.apply(this,arguments)||this}return g(i,r),i.prototype.decode=function(t){return new z(t)},Object.defineProperty(i.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),i.prototype.update=function(t,e,n){var o=this;return e===void 0&&(e={}),n===void 0&&(n={}),r.prototype.update.call(this,t,e,n).then(function(s){var a,c;return o.client.authStore.model&&((a=o.client.authStore.model)===null||a===void 0?void 0:a.collectionId)===void 0&&((c=o.client.authStore.model)===null||c===void 0?void 0:c.id)===(s==null?void 0:s.id)&&o.client.authStore.save(o.client.authStore.token,s),s})},i.prototype.delete=function(t,e){var n=this;return e===void 0&&(e={}),r.prototype.delete.call(this,t,e).then(function(o){var s,a;return o&&n.client.authStore.model&&((s=n.client.authStore.model)===null||s===void 0?void 0:s.collectionId)===void 0&&((a=n.client.authStore.model)===null||a===void 0?void 0:a.id)===t&&n.client.authStore.clear(),o})},i.prototype.authResponse=function(t){var e=this.decode((t==null?void 0:t.admin)||{});return(t==null?void 0:t.token)&&(t==null?void 0:t.admin)&&this.client.authStore.save(t.token,e),Object.assign({},t,{token:(t==null?void 0:t.token)||"",admin:e})},i.prototype.authWithPassword=function(t,e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({identity:t,password:e},n),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:o,body:n,headers:{Authorization:""}}).then(this.authResponse.bind(this))},i.prototype.authRefresh=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:e,body:t}).then(this.authResponse.bind(this))},i.prototype.requestPasswordReset=function(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),e=Object.assign({email:t},e),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:n,body:e}).then(function(){return!0})},i.prototype.confirmPasswordReset=function(t,e,n,o,s){return o===void 0&&(o={}),s===void 0&&(s={}),o=Object.assign({token:t,password:e,passwordConfirm:n},o),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:s,body:o}).then(function(){return!0})},i}(K),mt=function(r){function i(){return r!==null&&r.apply(this,arguments)||this}return g(i,r),i.prototype.load=function(t){r.prototype.load.call(this,t),this.recordId=typeof t.recordId=="string"?t.recordId:"",this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.provider=typeof t.provider=="string"?t.provider:"",this.providerId=typeof t.providerId=="string"?t.providerId:""},i}(L),bt=function(r){function i(t,e){var n=r.call(this,t)||this;return n.collectionIdOrName=e,n}return g(i,r),i.prototype.decode=function(t){return new G(t)},Object.defineProperty(i.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),i.prototype.subscribeOne=function(t,e){return w(this,void 0,void 0,function(){return S(this,function(n){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subsribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,e)]})})},i.prototype.subscribe=function(t,e){return w(this,void 0,void 0,function(){var n;return S(this,function(o){if(typeof t=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subsribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,t)];if(!e)throw new Error("Missing subscription callback.");if(t==="")throw new Error("Missing topic.");return n=this.collectionIdOrName,t!=="*"&&(n+="/"+t),[2,this.client.realtime.subscribe(n,e)]})})},i.prototype.unsubscribe=function(t){return w(this,void 0,void 0,function(){return S(this,function(e){return t==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:t?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},i.prototype.update=function(t,e,n){var o=this;return e===void 0&&(e={}),n===void 0&&(n={}),r.prototype.update.call(this,t,e,n).then(function(s){var a,c;return((a=o.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==void 0&&((c=o.client.authStore.model)===null||c===void 0?void 0:c.id)===(s==null?void 0:s.id)&&o.client.authStore.save(o.client.authStore.token,s),s})},i.prototype.delete=function(t,e){var n=this;return e===void 0&&(e={}),r.prototype.delete.call(this,t,e).then(function(o){var s,a;return o&&((s=n.client.authStore.model)===null||s===void 0?void 0:s.collectionId)!==void 0&&((a=n.client.authStore.model)===null||a===void 0?void 0:a.id)===t&&n.client.authStore.clear(),o})},i.prototype.authResponse=function(t){var e=this.decode((t==null?void 0:t.record)||{});return this.client.authStore.save(t==null?void 0:t.token,e),Object.assign({},t,{token:(t==null?void 0:t.token)||"",record:e})},i.prototype.listAuthMethods=function(t){return t===void 0&&(t={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:t}).then(function(e){return Object.assign({},e,{usernamePassword:!!(e!=null&&e.usernamePassword),emailPassword:!!(e!=null&&e.emailPassword),authProviders:Array.isArray(e==null?void 0:e.authProviders)?e==null?void 0:e.authProviders:[]})})},i.prototype.authWithPassword=function(t,e,n,o){var s=this;return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({identity:t,password:e},n),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:o,body:n,headers:{Authorization:""}}).then(function(a){return s.authResponse(a)})},i.prototype.authWithOAuth2=function(t,e,n,o,s,a,c){var d=this;return s===void 0&&(s={}),a===void 0&&(a={}),c===void 0&&(c={}),a=Object.assign({provider:t,code:e,codeVerifier:n,redirectUrl:o,createData:s},a),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:c,body:a}).then(function(l){return d.authResponse(l)})},i.prototype.authRefresh=function(t,e){var n=this;return t===void 0&&(t={}),e===void 0&&(e={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:e,body:t}).then(function(o){return n.authResponse(o)})},i.prototype.requestPasswordReset=function(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),e=Object.assign({email:t},e),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:n,body:e}).then(function(){return!0})},i.prototype.confirmPasswordReset=function(t,e,n,o,s){return o===void 0&&(o={}),s===void 0&&(s={}),o=Object.assign({token:t,password:e,passwordConfirm:n},o),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:s,body:o}).then(function(){return!0})},i.prototype.requestVerification=function(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),e=Object.assign({email:t},e),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:n,body:e}).then(function(){return!0})},i.prototype.confirmVerification=function(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),e=Object.assign({token:t},e),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:n,body:e}).then(function(){return!0})},i.prototype.requestEmailChange=function(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),e=Object.assign({newEmail:t},e),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:n,body:e}).then(function(){return!0})},i.prototype.confirmEmailChange=function(t,e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({token:t,password:e},n),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:o,body:n}).then(function(){return!0})},i.prototype.listExternalAuths=function(t,e){return e===void 0&&(e={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",{method:"GET",params:e}).then(function(n){var o=[];if(Array.isArray(n))for(var s=0,a=n;s<a.length;s++){var c=a[s];o.push(new mt(c))}return o})},i.prototype.unlinkExternalAuth=function(t,e,n){return n===void 0&&(n={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(e),{method:"DELETE",params:n}).then(function(){return!0})},i}(K),yt=function(){function r(i){i===void 0&&(i={}),this.load(i||{})}return r.prototype.load=function(i){this.id=i.id!==void 0?i.id:"",this.name=i.name!==void 0?i.name:"",this.type=i.type!==void 0?i.type:"text",this.system=!!i.system,this.required=!!i.required,this.unique=!!i.unique,this.options=typeof i.options=="object"&&i.options!==null?i.options:{}},r}(),gt=function(r){function i(){return r!==null&&r.apply(this,arguments)||this}return g(i,r),i.prototype.load=function(t){r.prototype.load.call(this,t),this.system=!!t.system,this.name=typeof t.name=="string"?t.name:"",this.type=typeof t.type=="string"?t.type:"base",this.options=t.options!==void 0?t.options:{},this.listRule=typeof t.listRule=="string"?t.listRule:null,this.viewRule=typeof t.viewRule=="string"?t.viewRule:null,this.createRule=typeof t.createRule=="string"?t.createRule:null,this.updateRule=typeof t.updateRule=="string"?t.updateRule:null,this.deleteRule=typeof t.deleteRule=="string"?t.deleteRule:null,t.schema=Array.isArray(t.schema)?t.schema:[],this.schema=[];for(var e=0,n=t.schema;e<n.length;e++){var o=n[e];this.schema.push(new yt(o))}},Object.defineProperty(i.prototype,"isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isSingle",{get:function(){return this.type==="single"},enumerable:!1,configurable:!0}),i}(L),wt=function(r){function i(){return r!==null&&r.apply(this,arguments)||this}return g(i,r),i.prototype.decode=function(t){return new gt(t)},Object.defineProperty(i.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),i.prototype.import=function(t,e,n){return e===void 0&&(e=!1),n===void 0&&(n={}),w(this,void 0,void 0,function(){return S(this,function(o){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:n,body:{collections:t,deleteMissing:e}}).then(function(){return!0})]})})},i}(K),et=function(r){function i(){return r!==null&&r.apply(this,arguments)||this}return g(i,r),i.prototype.load=function(t){r.prototype.load.call(this,t),t.remoteIp=t.remoteIp||t.ip,this.url=typeof t.url=="string"?t.url:"",this.method=typeof t.method=="string"?t.method:"GET",this.status=typeof t.status=="number"?t.status:200,this.auth=typeof t.auth=="string"?t.auth:"guest",this.remoteIp=typeof t.remoteIp=="string"?t.remoteIp:"",this.userIp=typeof t.userIp=="string"?t.userIp:"",this.referer=typeof t.referer=="string"?t.referer:"",this.userAgent=typeof t.userAgent=="string"?t.userAgent:"",this.meta=typeof t.meta=="object"&&t.meta!==null?t.meta:{}},i}(L),St=function(r){function i(){return r!==null&&r.apply(this,arguments)||this}return g(i,r),i.prototype.getRequestsList=function(t,e,n){return t===void 0&&(t=1),e===void 0&&(e=30),n===void 0&&(n={}),n=Object.assign({page:t,perPage:e},n),this.client.send("/api/logs/requests",{method:"GET",params:n}).then(function(o){var s=[];if(o!=null&&o.items){o.items=(o==null?void 0:o.items)||[];for(var a=0,c=o.items;a<c.length;a++){var d=c[a];s.push(new et(d))}}return new rt((o==null?void 0:o.page)||1,(o==null?void 0:o.perPage)||0,(o==null?void 0:o.totalItems)||0,(o==null?void 0:o.totalPages)||0,s)})},i.prototype.getRequest=function(t,e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/"+encodeURIComponent(t),{method:"GET",params:e}).then(function(n){return new et(n)})},i.prototype.getRequestsStats=function(t){return t===void 0&&(t={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:t}).then(function(e){return e})},i}(M),Ot=function(r){function i(){var t=r!==null&&r.apply(this,arguments)||this;return t.clientId="",t.eventSource=null,t.subscriptions={},t}return g(i,r),i.prototype.subscribe=function(t,e){return w(this,void 0,void 0,function(){var n,o=this;return S(this,function(s){switch(s.label){case 0:if(!t)throw new Error("topic must be set.");return n=function(a){var c,d=a;try{c=JSON.parse(d==null?void 0:d.data)}catch{}e(c||{})},this.subscriptions[t]||(this.subscriptions[t]=[]),this.subscriptions[t].push(n),this.eventSource?[3,1]:(this.connect(),[3,4]);case 1:return this.subscriptions[t].length!==1?[3,3]:[4,this.submitSubscriptions()];case 2:return s.sent(),[3,4];case 3:this.eventSource.addEventListener(t,n),s.label=4;case 4:return[2,function(){return w(o,void 0,void 0,function(){return S(this,function(a){return[2,this.unsubscribeByTopicAndListener(t,n)]})})}]}})})},i.prototype.unsubscribe=function(t){var e;return w(this,void 0,void 0,function(){var n,o,s;return S(this,function(a){switch(a.label){case 0:if(!this.hasSubscriptionListeners(t))return[2];if(t){for(n=0,o=this.subscriptions[t];n<o.length;n++)s=o[n],(e=this.eventSource)===null||e===void 0||e.removeEventListener(t,s);delete this.subscriptions[t]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:a.sent(),a.label=3;case 3:return[2]}})})},i.prototype.unsubscribeByPrefix=function(t){var e;return w(this,void 0,void 0,function(){var n,o,s,a,c;return S(this,function(d){switch(d.label){case 0:for(o in n=!1,this.subscriptions)if(o.startsWith(t)){for(n=!0,s=0,a=this.subscriptions[o];s<a.length;s++)c=a[s],(e=this.eventSource)===null||e===void 0||e.removeEventListener(o,c);delete this.subscriptions[o]}return n?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return d.sent(),[3,3];case 2:this.disconnect(),d.label=3;case 3:return[2]}})})},i.prototype.unsubscribeByTopicAndListener=function(t,e){var n;return w(this,void 0,void 0,function(){var o,s;return S(this,function(a){switch(a.label){case 0:if(!Array.isArray(this.subscriptions[t])||!this.subscriptions[t].length)return[2];for(o=!1,s=this.subscriptions[t].length-1;s>=0;s--)this.subscriptions[t][s]===e&&(o=!0,delete this.subscriptions[t][s],this.subscriptions[t].splice(s,1),(n=this.eventSource)===null||n===void 0||n.removeEventListener(t,e));return o?(this.subscriptions[t].length||delete this.subscriptions[t],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:a.sent(),a.label=3;case 3:return[2]}})})},i.prototype.hasSubscriptionListeners=function(t){var e,n;if(this.subscriptions=this.subscriptions||{},t)return!!(!((e=this.subscriptions[t])===null||e===void 0)&&e.length);for(var o in this.subscriptions)if(!((n=this.subscriptions[o])===null||n===void 0)&&n.length)return!0;return!1},i.prototype.submitSubscriptions=function(){return w(this,void 0,void 0,function(){return S(this,function(t){return this.clientId?(this.addAllSubscriptionListeners(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.getNonEmptySubscriptionTopics()},params:{$cancelKey:"realtime_subscriptions_"+this.clientId}}).then(function(){return!0}).catch(function(e){if(e!=null&&e.isAbort)return!0;throw e})]):[2,!1]})})},i.prototype.getNonEmptySubscriptionTopics=function(){var t=[];for(var e in this.subscriptions)this.subscriptions[e].length&&t.push(e);return t},i.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.removeAllSubscriptionListeners(),this.subscriptions)for(var e=0,n=this.subscriptions[t];e<n.length;e++){var o=n[e];this.eventSource.addEventListener(t,o)}},i.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.subscriptions)for(var e=0,n=this.subscriptions[t];e<n.length;e++){var o=n[e];this.eventSource.removeEventListener(t,o)}},i.prototype.connectHandler=function(t){var e=t;this.clientId=e==null?void 0:e.lastEventId,this.submitSubscriptions()},i.prototype.connect=function(){var t=this;this.disconnect(),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.addEventListener("PB_CONNECT",function(e){return t.connectHandler(e)})},i.prototype.disconnect=function(){var t,e,n=this;this.removeAllSubscriptionListeners(),(t=this.eventSource)===null||t===void 0||t.removeEventListener("PB_CONNECT",function(o){return n.connectHandler(o)}),(e=this.eventSource)===null||e===void 0||e.close(),this.eventSource=null,this.clientId=""},i}(M),Ct=function(){function r(i,t,e){i===void 0&&(i="/"),e===void 0&&(e="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=i,this.lang=e,this.authStore=t||new pt,this.admins=new vt(this),this.collections=new wt(this),this.logs=new St(this),this.settings=new ft(this),this.realtime=new Ot(this)}return r.prototype.collection=function(i){return this.recordServices[i]||(this.recordServices[i]=new bt(this,i)),this.recordServices[i]},r.prototype.autoCancellation=function(i){return this.enableAutoCancellation=!!i,this},r.prototype.cancelRequest=function(i){return this.cancelControllers[i]&&(this.cancelControllers[i].abort(),delete this.cancelControllers[i]),this},r.prototype.cancelAllRequests=function(){for(var i in this.cancelControllers)this.cancelControllers[i].abort();return this.cancelControllers={},this},r.prototype.send=function(i,t){var e,n,o,s,a,c,d,l;return w(this,void 0,void 0,function(){var u,p,h,m,j,O=this;return S(this,function(T){return(u=Object.assign({method:"GET"},t)).body&&u.body.constructor.name!=="FormData"&&(typeof u.body!="string"&&(u.body=JSON.stringify(u.body)),((e=u==null?void 0:u.headers)===null||e===void 0?void 0:e["Content-Type"])===void 0&&(u.headers=Object.assign({},u.headers,{"Content-Type":"application/json"}))),((n=u==null?void 0:u.headers)===null||n===void 0?void 0:n["Accept-Language"])===void 0&&(u.headers=Object.assign({},u.headers,{"Accept-Language":this.lang})),((o=this.authStore)===null||o===void 0?void 0:o.token)&&((s=u==null?void 0:u.headers)===null||s===void 0?void 0:s.Authorization)===void 0&&(u.headers=Object.assign({},u.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((a=u.params)===null||a===void 0?void 0:a.$autoCancel)!==!1&&(p=((c=u.params)===null||c===void 0?void 0:c.$cancelKey)||(u.method||"GET")+i,this.cancelRequest(p),h=new AbortController,this.cancelControllers[p]=h,u.signal=h.signal),(d=u.params)===null||d===void 0||delete d.$autoCancel,(l=u.params)===null||l===void 0||delete l.$cancelKey,m=this.buildUrl(i),u.params!==void 0&&((j=this.serializeQueryParams(u.params))&&(m+=(m.includes("?")?"&":"?")+j),delete u.params),this.beforeSend&&(u=Object.assign({},this.beforeSend(m,u))),[2,fetch(m,u).then(function(C){return w(O,void 0,void 0,function(){var E;return S(this,function(f){switch(f.label){case 0:E={},f.label=1;case 1:return f.trys.push([1,3,,4]),[4,C.json()];case 2:return E=f.sent(),[3,4];case 3:return f.sent(),[3,4];case 4:if(this.afterSend&&(E=this.afterSend(C,E)),C.status>=400)throw new V({url:C.url,status:C.status,data:E});return[2,E]}})})}).catch(function(C){throw new V(C)})]})})},r.prototype.getFileUrl=function(i,t,e){e===void 0&&(e={});var n=[];n.push("api"),n.push("files"),n.push(encodeURIComponent(i.collectionId||i.collectionName)),n.push(encodeURIComponent(i.id)),n.push(encodeURIComponent(t));var o=this.buildUrl(n.join("/"));if(Object.keys(e).length){var s=new URLSearchParams(e);o+=(o.includes("?")?"&":"?")+s}return o},r.prototype.buildUrl=function(i){var t=this.baseUrl+(this.baseUrl.endsWith("/")?"":"/");return i&&(t+=i.startsWith("/")?i.substring(1):i),t},r.prototype.serializeQueryParams=function(i){var t=[];for(var e in i)if(i[e]!==null){var n=i[e],o=encodeURIComponent(e);if(Array.isArray(n))for(var s=0,a=n;s<a.length;s++){var c=a[s];t.push(o+"="+encodeURIComponent(c))}else n instanceof Date?t.push(o+"="+encodeURIComponent(n.toISOString())):typeof n!==null&&typeof n=="object"?t.push(o+"="+encodeURIComponent(JSON.stringify(n))):t.push(o+"="+encodeURIComponent(n))}return t.join("&")},r}();function nt(r,i,t){const e=r.slice();return e[2]=i[t],e}function it(r){let i,t,e,n,o,s,a,c,d=r[2].bijnaam+"",l,u,p,h=r[2].functie+"",m,j,O,T=r[2].naam+"",C,E;return{c(){i=P("div"),t=P("div"),e=P("img"),s=R(),a=P("div"),c=P("h1"),l=q(d),u=R(),p=P("h3"),m=q(h),j=R(),O=P("h2"),C=q(T),E=R(),this.h()},l(f){i=_(f,"DIV",{class:!0});var I=k(i);t=_(I,"DIV",{class:!0});var N=k(t);e=_(N,"IMG",{src:!0,alt:!0,draggable:!0,class:!0}),s=A(N),a=_(N,"DIV",{class:!0});var x=k(a);c=_(x,"H1",{class:!0});var $=k(c);l=D($,d),$.forEach(y),u=A(x),p=_(x,"H3",{class:!0});var W=k(p);m=D(W,h),W.forEach(y),j=A(x),O=_(x,"H2",{class:!0});var Q=k(O);C=D(Q,T),Q.forEach(y),x.forEach(y),N.forEach(y),E=A(I),I.forEach(y),this.h()},h(){Y(e.src,n=r[1].getFileUrl(r[2],r[2].foto))||b(e,"src",n),b(e,"alt",o=r[2].naam),b(e,"draggable","false"),b(e,"class","absolute -z-10 border-none w-full h-96 rounded-lg object-cover"),b(c,"class","relative w-full flex text-2xl font-semibold text-white headertext"),b(p,"class","relative w-full flex text-m font-light text-white headertext"),b(O,"class","relative w-full flex text-xl font-light text-white headertext"),b(a,"class","ml-5 mt-5"),b(t,"class","grid grid-cols-2 gap-1 h-96"),b(i,"class","relative z-10 bg-black rounded-lg right-0.5 praesidiumkaart svelte-1ukk3fk")},m(f,I){F(f,i,I),v(i,t),v(t,e),v(t,s),v(t,a),v(a,c),v(c,l),v(a,u),v(a,p),v(p,m),v(a,j),v(a,O),v(O,C),v(i,E)},p(f,I){I&1&&!Y(e.src,n=f[1].getFileUrl(f[2],f[2].foto))&&b(e,"src",n),I&1&&o!==(o=f[2].naam)&&b(e,"alt",o),I&1&&d!==(d=f[2].bijnaam+"")&&H(l,d),I&1&&h!==(h=f[2].functie+"")&&H(m,h),I&1&&T!==(T=f[2].naam+"")&&H(C,T)},d(f){f&&y(i)}}}function Pt(r){let i,t,e,n,o,s,a,c,d=r[0].bestuur.items,l=[];for(let u=0;u<d.length;u+=1)l[u]=it(nt(r,d,u));return{c(){i=P("div"),t=P("h2"),e=q("Praesidium"),n=R(),o=P("div"),s=R(),a=P("div"),c=P("div");for(let u=0;u<l.length;u+=1)l[u].c();this.h()},l(u){i=_(u,"DIV",{class:!0});var p=k(i);t=_(p,"H2",{class:!0});var h=k(t);e=D(h,"Praesidium"),h.forEach(y),n=A(p),o=_(p,"DIV",{class:!0}),k(o).forEach(y),p.forEach(y),s=A(u),a=_(u,"DIV",{class:!0});var m=k(a);c=_(m,"DIV",{class:!0});var j=k(c);for(let O=0;O<l.length;O+=1)l[O].l(j);j.forEach(y),m.forEach(y),this.h()},h(){b(t,"class","text-3xl font-bold text-center"),b(o,"class","h-1 w-1/4 top-0 bg-gradient-to-r from-red-600 to-red-700"),b(i,"class","flex flex-col gap-2 items-center mt-4"),b(c,"class","grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 ml-4 mr-4"),b(a,"class","relative top-12 mx-2 mb-20")},m(u,p){F(u,i,p),v(i,t),v(t,e),v(i,n),v(i,o),F(u,s,p),F(u,a,p),v(a,c);for(let h=0;h<l.length;h+=1)l[h].m(c,null)},p(u,[p]){if(p&3){d=u[0].bestuur.items;let h;for(h=0;h<d.length;h+=1){const m=nt(u,d,h);l[h]?l[h].p(m,p):(l[h]=it(m),l[h].c(),l[h].m(c,null))}for(;h<l.length;h+=1)l[h].d(1);l.length=d.length}},i:X,o:X,d(u){u&&y(i),u&&y(s),u&&y(a),ut(l,u)}}}function _t(r,i,t){let{data:e}=i;const n=new Ct("http://127.0.0.1:8090");return r.$$set=o=>{"data"in o&&t(0,e=o.data)},[e,n]}class kt extends st{constructor(i){super(),at(this,i,_t,Pt,lt,{data:0,pb:1})}get pb(){return this.$$.ctx[1]}}export{kt as default};
